# Быстрое исправление: Клиенты не могут пинговать сервер WireGuard

## Проблема

Клиенты подключаются к WireGuard, но не могут пинговать сервер (10.77.0.1) и нет доступа в интернет.

## Причина

Отсутствует правило INPUT для интерфейса wg0. При политике INPUT DROP файрвол блокирует весь входящий трафик с интерфейса wg0.

## Быстрое решение

### Вариант 1: Использовать скрипт автоматического исправления (рекомендуется)

```bash
cd /home/wg_client_tui_genarator/wiregurad_on_debian_13_with_tui_peers_generator
chmod +x wg-fix-internet.sh
./wg-fix-internet.sh
```

Скрипт автоматически проверит и добавит все необходимые правила, включая INPUT для wg0.

### Вариант 2: Ручное исправление

```bash
# Добавить правило INPUT для wg0
iptables -A INPUT -i wg0 -j ACCEPT

# Сохранить правила
mkdir -p /etc/iptables
iptables-save > /etc/iptables/rules.v4

# Перезапустить WireGuard
wg-quick down wg0
wg-quick up wg0
```

## Проверка

После применения правил проверьте:

```bash
# Проверить правило INPUT для wg0
iptables -L INPUT -n -v | grep wg0

# Должно быть:
# ACCEPT     all  --  wg0    *       0.0.0.0/0            0.0.0.0/0

# Проверить подключение с клиента
ping 10.77.0.1
```

## Что было исправлено

1. ✅ Добавлено правило `iptables -A INPUT -i wg0 -j ACCEPT`
2. ✅ Обновлены скрипты `wg-fix-internet.sh` и `wg-apply-forward-rules.sh` для автоматической проверки и добавления этого правила
3. ✅ Обновлена документация

## Дополнительная информация

Подробная информация о диагностике и устранении неполадок доступна в файлах:
- `README_FIX_INTERNET.md` - описание скрипта диагностики
- `TROUBLESHOOTING.md` - руководство по устранению неполадок

